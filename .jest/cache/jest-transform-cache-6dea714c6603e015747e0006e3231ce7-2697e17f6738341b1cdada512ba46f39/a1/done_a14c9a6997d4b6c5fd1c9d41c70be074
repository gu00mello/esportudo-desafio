5c1072e6826c31d4199b709501a5c76b
'use strict';

var Promise = require('./core.js');

module.exports = Promise;

Promise.prototype.done = function (onFulfilled, onRejected) {
  var self = arguments.length ? this.then.apply(this, arguments) : this;
  self.then(null, function (err) {
    setTimeout(function () {
      throw err;
    }, 0);
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9taXNlIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJwcm90b3R5cGUiLCJkb25lIiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwic2VsZiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInRoZW4iLCJhcHBseSIsImVyciIsInNldFRpbWVvdXQiXSwic291cmNlcyI6WyJkb25lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIFByb21pc2UgPSByZXF1aXJlKCcuL2NvcmUuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQcm9taXNlO1xuUHJvbWlzZS5wcm90b3R5cGUuZG9uZSA9IGZ1bmN0aW9uIChvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICB2YXIgc2VsZiA9IGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLnRoZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IHRoaXM7XG4gIHNlbGYudGhlbihudWxsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSwgMCk7XG4gIH0pO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsV0FBRCxDQUFyQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCSCxPQUFqQjs7QUFDQUEsT0FBTyxDQUFDSSxTQUFSLENBQWtCQyxJQUFsQixHQUF5QixVQUFVQyxXQUFWLEVBQXVCQyxVQUF2QixFQUFtQztFQUMxRCxJQUFJQyxJQUFJLEdBQUdDLFNBQVMsQ0FBQ0MsTUFBVixHQUFtQixLQUFLQyxJQUFMLENBQVVDLEtBQVYsQ0FBZ0IsSUFBaEIsRUFBc0JILFNBQXRCLENBQW5CLEdBQXNELElBQWpFO0VBQ0FELElBQUksQ0FBQ0csSUFBTCxDQUFVLElBQVYsRUFBZ0IsVUFBVUUsR0FBVixFQUFlO0lBQzdCQyxVQUFVLENBQUMsWUFBWTtNQUNyQixNQUFNRCxHQUFOO0lBQ0QsQ0FGUyxFQUVQLENBRk8sQ0FBVjtFQUdELENBSkQ7QUFLRCxDQVBEIn0=