ed3d6ada837c692b823dad5fdf958780
"use strict";

var getPrototypeOf = require("./getPrototypeOf.js");

var setPrototypeOf = require("./setPrototypeOf.js");

var isNativeFunction = require("./isNativeFunction.js");

var construct = require("./construct.js");

function _wrapNativeSuper(Class) {
  var _cache = typeof Map === "function" ? new Map() : undefined;

  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {
    if (Class === null || !isNativeFunction(Class)) return Class;

    if (typeof Class !== "function") {
      throw new TypeError("Super expression must either be null or a function");
    }

    if (typeof _cache !== "undefined") {
      if (_cache.has(Class)) return _cache.get(Class);

      _cache.set(Class, Wrapper);
    }

    function Wrapper() {
      return construct(Class, arguments, getPrototypeOf(this).constructor);
    }

    Wrapper.prototype = Object.create(Class.prototype, {
      constructor: {
        value: Wrapper,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    return setPrototypeOf(Wrapper, Class);
  }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  return _wrapNativeSuper(Class);
}

module.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports["default"] = module.exports;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRQcm90b3R5cGVPZiIsInJlcXVpcmUiLCJzZXRQcm90b3R5cGVPZiIsImlzTmF0aXZlRnVuY3Rpb24iLCJjb25zdHJ1Y3QiLCJfd3JhcE5hdGl2ZVN1cGVyIiwiQ2xhc3MiLCJfY2FjaGUiLCJNYXAiLCJ1bmRlZmluZWQiLCJtb2R1bGUiLCJleHBvcnRzIiwiVHlwZUVycm9yIiwiaGFzIiwiZ2V0Iiwic2V0IiwiV3JhcHBlciIsImFyZ3VtZW50cyIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwidmFsdWUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJfX2VzTW9kdWxlIl0sInNvdXJjZXMiOlsid3JhcE5hdGl2ZVN1cGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuL2dldFByb3RvdHlwZU9mLmpzXCIpO1xuXG52YXIgc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi9zZXRQcm90b3R5cGVPZi5qc1wiKTtcblxudmFyIGlzTmF0aXZlRnVuY3Rpb24gPSByZXF1aXJlKFwiLi9pc05hdGl2ZUZ1bmN0aW9uLmpzXCIpO1xuXG52YXIgY29uc3RydWN0ID0gcmVxdWlyZShcIi4vY29uc3RydWN0LmpzXCIpO1xuXG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gIHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICAgIGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzcztcblxuICAgIGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtcblxuICAgICAgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgIHJldHVybiBjb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpO1xuICAgIH1cblxuICAgIFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBXcmFwcGVyLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7XG4gIH0sIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cztcbiAgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF93cmFwTmF0aXZlU3VwZXIsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsY0FBYyxHQUFHQyxPQUFPLENBQUMscUJBQUQsQ0FBNUI7O0FBRUEsSUFBSUMsY0FBYyxHQUFHRCxPQUFPLENBQUMscUJBQUQsQ0FBNUI7O0FBRUEsSUFBSUUsZ0JBQWdCLEdBQUdGLE9BQU8sQ0FBQyx1QkFBRCxDQUE5Qjs7QUFFQSxJQUFJRyxTQUFTLEdBQUdILE9BQU8sQ0FBQyxnQkFBRCxDQUF2Qjs7QUFFQSxTQUFTSSxnQkFBVCxDQUEwQkMsS0FBMUIsRUFBaUM7RUFDL0IsSUFBSUMsTUFBTSxHQUFHLE9BQU9DLEdBQVAsS0FBZSxVQUFmLEdBQTRCLElBQUlBLEdBQUosRUFBNUIsR0FBd0NDLFNBQXJEOztFQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJOLGdCQUFnQixHQUFHLFNBQVNBLGdCQUFULENBQTBCQyxLQUExQixFQUFpQztJQUNuRSxJQUFJQSxLQUFLLEtBQUssSUFBVixJQUFrQixDQUFDSCxnQkFBZ0IsQ0FBQ0csS0FBRCxDQUF2QyxFQUFnRCxPQUFPQSxLQUFQOztJQUVoRCxJQUFJLE9BQU9BLEtBQVAsS0FBaUIsVUFBckIsRUFBaUM7TUFDL0IsTUFBTSxJQUFJTSxTQUFKLENBQWMsb0RBQWQsQ0FBTjtJQUNEOztJQUVELElBQUksT0FBT0wsTUFBUCxLQUFrQixXQUF0QixFQUFtQztNQUNqQyxJQUFJQSxNQUFNLENBQUNNLEdBQVAsQ0FBV1AsS0FBWCxDQUFKLEVBQXVCLE9BQU9DLE1BQU0sQ0FBQ08sR0FBUCxDQUFXUixLQUFYLENBQVA7O01BRXZCQyxNQUFNLENBQUNRLEdBQVAsQ0FBV1QsS0FBWCxFQUFrQlUsT0FBbEI7SUFDRDs7SUFFRCxTQUFTQSxPQUFULEdBQW1CO01BQ2pCLE9BQU9aLFNBQVMsQ0FBQ0UsS0FBRCxFQUFRVyxTQUFSLEVBQW1CakIsY0FBYyxDQUFDLElBQUQsQ0FBZCxDQUFxQmtCLFdBQXhDLENBQWhCO0lBQ0Q7O0lBRURGLE9BQU8sQ0FBQ0csU0FBUixHQUFvQkMsTUFBTSxDQUFDQyxNQUFQLENBQWNmLEtBQUssQ0FBQ2EsU0FBcEIsRUFBK0I7TUFDakRELFdBQVcsRUFBRTtRQUNYSSxLQUFLLEVBQUVOLE9BREk7UUFFWE8sVUFBVSxFQUFFLEtBRkQ7UUFHWEMsUUFBUSxFQUFFLElBSEM7UUFJWEMsWUFBWSxFQUFFO01BSkg7SUFEb0MsQ0FBL0IsQ0FBcEI7SUFRQSxPQUFPdkIsY0FBYyxDQUFDYyxPQUFELEVBQVVWLEtBQVYsQ0FBckI7RUFDRCxDQTFCRCxFQTBCR0ksTUFBTSxDQUFDQyxPQUFQLENBQWVlLFVBQWYsR0FBNEIsSUExQi9CLEVBMEJxQ2hCLE1BQU0sQ0FBQ0MsT0FBUCxDQUFlLFNBQWYsSUFBNEJELE1BQU0sQ0FBQ0MsT0ExQnhFO0VBMkJBLE9BQU9OLGdCQUFnQixDQUFDQyxLQUFELENBQXZCO0FBQ0Q7O0FBRURJLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQk4sZ0JBQWpCLEVBQW1DSyxNQUFNLENBQUNDLE9BQVAsQ0FBZWUsVUFBZixHQUE0QixJQUEvRCxFQUFxRWhCLE1BQU0sQ0FBQ0MsT0FBUCxDQUFlLFNBQWYsSUFBNEJELE1BQU0sQ0FBQ0MsT0FBeEcifQ==